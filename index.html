<!DOCTYPE html>
<html>
  <head>
    <title>Calorie Tracker</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="bmr.css" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/quagga"></script>
  </head>
  <body>
    <div id="app" > 
      <h1>Ego Quest</h1>
      <div id="buttonWrapper">
        <button class="appButton" id="scanButton">Scan Barcode</button>
        <button class="appButton" id="searchModal">Search</button>
        <button class="appButton" id="bmrButton">BMR Calculator</button>
        <!-- <button class="appButton" id="searchButton">Search</button>
        <input id="searchInput" type="text" placeholder="Search for food" /> -->
      </div>
      <div id="results"></div>
      <table id="totalsTable">
        <tr>
          <th>Totals: <span id="totalSec"></span></th>
          <th>Calories: <span id="totalCalories"></span></th>
          <th>Protein: <span id="totalProtein"></span></th>
          <th>Fats: <span id="totalFats"></span></th>
          <th>Carbs: <span id="totalCarbs"></span></th>
        </tr>
      </table>
      <table id="staticFoodTable">
        <thead>
          <tr>
            <th></th>
            <th> &nbsp;Food Entry:</th>
            <th>Cals:</th>
            <th>P:</th>
            <th>F:</th>
            <th>C:</th>
            <th></th>

          </tr>
        </thead>
        <tbody>
          <!-- Static rows without data -->
        </tbody>
      </table>
      <table id="foodTable">
        <thead>
          <tr>
            <th>Food Entry:</th>
            <th>Calories:</th>
            <th>Protein:</th>
            <th>Fats:</th>
            <th>Carbs:</th>
          </tr>
        </thead>
        <tbody id="foodEntries">
          <!-- food entries will be added here by JavaScript -->
        </tbody>
      </table>
      <div id="food-modal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <input id="searchInput" type="text" placeholder="Search for food" />
          <button class="appButton" id="searchButton">Search</button>
          <h2>Search Results:</h2>
          <div id="food-name"></div>
          <p id="food-calories"></p>
          <button id="add-to-diary">Add to diary</button>
        </div>
      </div>
      <div id="bmrModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2 class="heading">BMR + Macro calculator</h2>
            </div>
            <div class="modal-body">
              <form>
                <div class="input-group">
                  <label for="gender-input" class="label">Gender</label>
                  <select id="gender-input" class="input" value="female">
                    <option value="female">Female</option>
                    <option value="male">Male</option>
                  </select>
                  <span class="info"></span>
                </div > 
            
                <div class="input-group">
                  <label for="weight-input" class="label">Weight</label>
                  <input id="weight-input" type="number" class="input" min="0" placeholder="kg">
                  <span class="info"></span>
                </div>
            
                <div class="input-group">
                  <label for="height-input" class="label">Height</label>
                  <input id="height-input" type="number" class="input" placeholder="cm">
                  <span class="info"></span>
                </div>
            
                <div class="input-group">
                  <label for="age-input" class="label">Age</label>
                  <input id="age-input" type="number" class="input" min="0" placeholder="years">
                  <span class="info"></span>
                </div>
            
                <div class="input-group">
                  <label for="ratio-input" class="label">Activity ratio</label>
                  <select id="ratio-input" class="input" value="1.2">
                    <option value="1.2">Small or no activity</option>
                    <option value="1.375">Moderate activity (1 - 3 trainings per week)</option>
                    <option value="1.55">Average activity (3 - 5 trainings per week)</option>
                    <option value="1.725">High activity (7 trainings per week)</option>
                    <option value="1.9">High activity and manual labour</option>
                  </select>
                  <span class="info"></span>
                </div>
            
                <div class="input-group">
                  <label for="proteins-input" class="label">Proteins</label>
                  <input id="proteins-input" type="number" class="input" min="1.8" max="2" placeholder="1.8g - 2g">
                  <span class="info"></span>
                </div>
            
                <div class="input-group">
                  <label for="fat-input" class="label">Fat</label>
                  <input id="fat-input" type="number" class="input" min="20" max="30" placeholder="20% - 30%">
                  <span class="info"></span>
                </div>
                
                <div class="input-group">
                  <label for="surplus-input" class="label">Calorie surplus</label>
                  <input id="surplus-input" type="number" class="input" placeholder="kcal">
                  <span class="info"></span>
                </div>
            
                <button id="submit" class="button">Submit</button>
              </form>
              
              <div id="output" class="output hidden">
                <span class="d-block">BMR: <span id="bmr-output">0</span>kcal</span>
                <hr>
                <span class="d-block">Proteins: <span id="proteins-output">0</span>g</span>
                <span class="d-block">Carbs: <span id="carbs-output">0</span>g</span>
                <span class="d-block">Fat: <span id="fat-output">0</span>g</span>
              </div>
            
            </div> 

                
            </div>
        </div>
    </div>
    </div>
    <div id="qr-reader">
      <canvas id="qr-canvas" willReadFrequently> </canvas>
    </div>
    <script src="script.js"></script>
    <script src="bmr.js"></script>

  </body>
</html>
